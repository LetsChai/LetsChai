@(users: List[User], stats: classes.UserStatistics, chais: Map[String,Chai])

<!DOCTYPE html>
<html>
<head>
    <title>Admin - Users</title>
    <script src="//code.jquery.com/jquery-1.11.0.min.js"></script>
    <script src="/assets/javascripts/jquery.tablesorter.min.js"></script>

    <style>
        th {
            font-weight: bold;
        }
        #stats {
            border-collapse: collapse;
        }
        #stats th, #stats td {
            border: 1px solid black;
        }
    </style>

</head>
<body>

<h1>Stats</h1>
<table id="stats">
    <thead>
        <tr>
            <th>Total Users</th>
            <th>Ready to Chai</th>
            <th>In Bangalore</th>
            <th>Total Female</th>
            <th>Ready in Bangalore</th>
            <th>Female, Ready, In Bangalore</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>@stats.count</td>
            <td>@stats.readyCount</td>
            <td>@stats.bangaloreCount</td>
            <td>@stats.femaleCount</td>
            <td>@stats.readyBangaloreCount</td>
            <td>@stats.readyBangaloreFemaleCount</td>
        </tr>
    </tbody>
</table>

<h1>Users</h1>
<i>* Click on a column heading to sort by it</i>
<table>
    <thead>
        <tr>
            <th>First Name</th>
            <th>Last Name</th>
            <th>Id</th>
            <th>Email</th>
            <th>Link</th>
            <th>Gender</th>
            <th>Gender Given</th>
            <th>Pictures</th>
            <th>Pincode</th>
            <th>Current City</th>
            <th>Flags</th>
            <th>Last Login</th>
            <th>Today's Chai</th>
            <th>Chai Target Profile</th>
        </tr>
    </thead>
    <tbody>
        @for(user <- users) {
            <tr>
                <td>@user.getFirstName</td>
                <td>@user.getLastName</td>
                <td>@user.getUserId</td>
                <td>@user.getEmail</td>
                <td><a target="_blank" href="@user.getLink">Profile</a></td>
                <td>@user.getGender</td>
                <td>@user.getGenderGiven</td>
                <td>
                    @for(pic <- user.getPictures) {
                        @if(pic != null) {
                            <div><a target="_blank" href="@pic">Picture</a></div>
                        }
                    }
                </td>
                <td>@user.getPincode.toString</td>
                <td>@user.getCity</td>
                <td>
                    @for(flag <- user.getFlags) {
                        <div>@flag.toString</div>
                    }
                </td>
                <td>@user.getLastLogin</td>
                <td><a target="_blank" href="/admin/chai/@user.getUserId">Today's Chai</a></td>
                <td>
                    @if(chais.get(user.getUserId) != null) {
                        <a target="_blank" href="http://facebook.com/@chais.get(user.getUserId).getTarget">Chai Target Profile</a>
                    }
                </td>
            </tr>
        }
    </tbody>
</table>


<script>
    $(document).ready(function() {
        $('table').tablesorter();
    });
</script>

</body>
</html>